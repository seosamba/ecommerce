$(function(){$(document).on("click","a.remove-notified-product[data-pid]",function(a){a.preventDefault();a.stopPropagation();var b=$(this).data("pid");showConfirm("Are you sure you would like to remove this item from your notification List?",function(){$.ajax({url:$("#website_url").val()+"plugin/shopping/run/removeNotifiedProduct/",type:"POST",dataType:"json",data:{pid:b},success:function(a){1!=a.error?(showMessage(a.responseText,!1,3E3),window.location.reload()):showMessage(a.responseText,!0,3E3)}})})});
$(document).on("click","a.add-to-notify-list[data-pid]",function(a){a.preventDefault();a.stopPropagation();var b=$(this);a=b.data("pid");var c=b.data("to-profile"),d=b.data("client-page"),e=b.closest(".notify-list-block").find(".secureToken").val();$.ajax({url:$("#website_url").val()+"plugin/shopping/run/addToNotifyList/",type:"POST",dataType:"json",data:{pid:a,secureToken:e},success:function(a){1!=a.error?"undefined"!==typeof a.responseText.alreadyNotified?showMessage(a.responseText.alreadyNotified,
!1,3E3):1==c?window.location.href=d:(showMessage(a.responseText.addedToList,!1,3E3),b.addClass("already-notified")):showMessage(a.responseText,!0,3E3)}})})});
