$(function(){$(document).on("click","a.remove-wished-product[data-pid]",function(a){a.preventDefault();a.stopPropagation();var c=$(this).data("pid");showConfirm("Are you sure to delete?",function(){$.ajax({url:$("#website_url").val()+"plugin/shopping/run/removeWishedProduct/",type:"POST",dataType:"json",data:{pid:c},success:function(b){1!=b.error?(showMessage(b.responseText,!1,3E3),window.location.reload()):showMessage(b.responseText,!0,3E3)}})})});$(document).on("click","a.add-to-wish-list[data-pid]",
function(a){a.preventDefault();a.stopPropagation();var c=$(this),b=c.data("pid"),d=c.data("to-profile"),e=c.data("client-page");a=$(".secureToken").val();$.ajax({url:$("#website_url").val()+"plugin/shopping/run/addToWishList/",type:"POST",dataType:"json",data:{pid:b,qty:1,secureToken:a},success:function(a){if(1!=a.error)if("undefined"!==typeof a.responseText.alreadyWished)showMessage(a.responseText.alreadyWished,!1,3E3);else if(1==d)window.location.href=e;else{showMessage(a.responseText.addedToList,
!1,3E3);var f=$(".product-wishlist-"+b).data("qty");$(".product-wishlist-"+b).text(parseInt(f)+1);$(".last-user-full-name-"+b).text(a.responseText.lastAddedUser);c.addClass("already-wished")}else showMessage(a.responseText,!0,3E3)}})})});
